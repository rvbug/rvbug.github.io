% Options for packages loaded elsewhere
% Options for packages loaded elsewhere
\PassOptionsToPackage{unicode}{hyperref}
\PassOptionsToPackage{hyphens}{url}
\PassOptionsToPackage{dvipsnames,svgnames,x11names}{xcolor}
%
\documentclass[
  letterpaper,
  DIV=11,
  numbers=noendperiod]{scrreprt}
\usepackage{xcolor}
\usepackage{amsmath,amssymb}
\setcounter{secnumdepth}{5}
\usepackage{iftex}
\ifPDFTeX
  \usepackage[T1]{fontenc}
  \usepackage[utf8]{inputenc}
  \usepackage{textcomp} % provide euro and other symbols
\else % if luatex or xetex
  \usepackage{unicode-math} % this also loads fontspec
  \defaultfontfeatures{Scale=MatchLowercase}
  \defaultfontfeatures[\rmfamily]{Ligatures=TeX,Scale=1}
\fi
\usepackage{lmodern}
\ifPDFTeX\else
  % xetex/luatex font selection
\fi
% Use upquote if available, for straight quotes in verbatim environments
\IfFileExists{upquote.sty}{\usepackage{upquote}}{}
\IfFileExists{microtype.sty}{% use microtype if available
  \usepackage[]{microtype}
  \UseMicrotypeSet[protrusion]{basicmath} % disable protrusion for tt fonts
}{}
\makeatletter
\@ifundefined{KOMAClassName}{% if non-KOMA class
  \IfFileExists{parskip.sty}{%
    \usepackage{parskip}
  }{% else
    \setlength{\parindent}{0pt}
    \setlength{\parskip}{6pt plus 2pt minus 1pt}}
}{% if KOMA class
  \KOMAoptions{parskip=half}}
\makeatother
% Make \paragraph and \subparagraph free-standing
\makeatletter
\ifx\paragraph\undefined\else
  \let\oldparagraph\paragraph
  \renewcommand{\paragraph}{
    \@ifstar
      \xxxParagraphStar
      \xxxParagraphNoStar
  }
  \newcommand{\xxxParagraphStar}[1]{\oldparagraph*{#1}\mbox{}}
  \newcommand{\xxxParagraphNoStar}[1]{\oldparagraph{#1}\mbox{}}
\fi
\ifx\subparagraph\undefined\else
  \let\oldsubparagraph\subparagraph
  \renewcommand{\subparagraph}{
    \@ifstar
      \xxxSubParagraphStar
      \xxxSubParagraphNoStar
  }
  \newcommand{\xxxSubParagraphStar}[1]{\oldsubparagraph*{#1}\mbox{}}
  \newcommand{\xxxSubParagraphNoStar}[1]{\oldsubparagraph{#1}\mbox{}}
\fi
\makeatother

\usepackage{color}
\usepackage{fancyvrb}
\newcommand{\VerbBar}{|}
\newcommand{\VERB}{\Verb[commandchars=\\\{\}]}
\DefineVerbatimEnvironment{Highlighting}{Verbatim}{commandchars=\\\{\}}
% Add ',fontsize=\small' for more characters per line
\usepackage{framed}
\definecolor{shadecolor}{RGB}{241,243,245}
\newenvironment{Shaded}{\begin{snugshade}}{\end{snugshade}}
\newcommand{\AlertTok}[1]{\textcolor[rgb]{0.68,0.00,0.00}{#1}}
\newcommand{\AnnotationTok}[1]{\textcolor[rgb]{0.37,0.37,0.37}{#1}}
\newcommand{\AttributeTok}[1]{\textcolor[rgb]{0.40,0.45,0.13}{#1}}
\newcommand{\BaseNTok}[1]{\textcolor[rgb]{0.68,0.00,0.00}{#1}}
\newcommand{\BuiltInTok}[1]{\textcolor[rgb]{0.00,0.23,0.31}{#1}}
\newcommand{\CharTok}[1]{\textcolor[rgb]{0.13,0.47,0.30}{#1}}
\newcommand{\CommentTok}[1]{\textcolor[rgb]{0.37,0.37,0.37}{#1}}
\newcommand{\CommentVarTok}[1]{\textcolor[rgb]{0.37,0.37,0.37}{\textit{#1}}}
\newcommand{\ConstantTok}[1]{\textcolor[rgb]{0.56,0.35,0.01}{#1}}
\newcommand{\ControlFlowTok}[1]{\textcolor[rgb]{0.00,0.23,0.31}{\textbf{#1}}}
\newcommand{\DataTypeTok}[1]{\textcolor[rgb]{0.68,0.00,0.00}{#1}}
\newcommand{\DecValTok}[1]{\textcolor[rgb]{0.68,0.00,0.00}{#1}}
\newcommand{\DocumentationTok}[1]{\textcolor[rgb]{0.37,0.37,0.37}{\textit{#1}}}
\newcommand{\ErrorTok}[1]{\textcolor[rgb]{0.68,0.00,0.00}{#1}}
\newcommand{\ExtensionTok}[1]{\textcolor[rgb]{0.00,0.23,0.31}{#1}}
\newcommand{\FloatTok}[1]{\textcolor[rgb]{0.68,0.00,0.00}{#1}}
\newcommand{\FunctionTok}[1]{\textcolor[rgb]{0.28,0.35,0.67}{#1}}
\newcommand{\ImportTok}[1]{\textcolor[rgb]{0.00,0.46,0.62}{#1}}
\newcommand{\InformationTok}[1]{\textcolor[rgb]{0.37,0.37,0.37}{#1}}
\newcommand{\KeywordTok}[1]{\textcolor[rgb]{0.00,0.23,0.31}{\textbf{#1}}}
\newcommand{\NormalTok}[1]{\textcolor[rgb]{0.00,0.23,0.31}{#1}}
\newcommand{\OperatorTok}[1]{\textcolor[rgb]{0.37,0.37,0.37}{#1}}
\newcommand{\OtherTok}[1]{\textcolor[rgb]{0.00,0.23,0.31}{#1}}
\newcommand{\PreprocessorTok}[1]{\textcolor[rgb]{0.68,0.00,0.00}{#1}}
\newcommand{\RegionMarkerTok}[1]{\textcolor[rgb]{0.00,0.23,0.31}{#1}}
\newcommand{\SpecialCharTok}[1]{\textcolor[rgb]{0.37,0.37,0.37}{#1}}
\newcommand{\SpecialStringTok}[1]{\textcolor[rgb]{0.13,0.47,0.30}{#1}}
\newcommand{\StringTok}[1]{\textcolor[rgb]{0.13,0.47,0.30}{#1}}
\newcommand{\VariableTok}[1]{\textcolor[rgb]{0.07,0.07,0.07}{#1}}
\newcommand{\VerbatimStringTok}[1]{\textcolor[rgb]{0.13,0.47,0.30}{#1}}
\newcommand{\WarningTok}[1]{\textcolor[rgb]{0.37,0.37,0.37}{\textit{#1}}}

\usepackage{longtable,booktabs,array}
\usepackage{calc} % for calculating minipage widths
% Correct order of tables after \paragraph or \subparagraph
\usepackage{etoolbox}
\makeatletter
\patchcmd\longtable{\par}{\if@noskipsec\mbox{}\fi\par}{}{}
\makeatother
% Allow footnotes in longtable head/foot
\IfFileExists{footnotehyper.sty}{\usepackage{footnotehyper}}{\usepackage{footnote}}
\makesavenoteenv{longtable}
\usepackage{graphicx}
\makeatletter
\newsavebox\pandoc@box
\newcommand*\pandocbounded[1]{% scales image to fit in text height/width
  \sbox\pandoc@box{#1}%
  \Gscale@div\@tempa{\textheight}{\dimexpr\ht\pandoc@box+\dp\pandoc@box\relax}%
  \Gscale@div\@tempb{\linewidth}{\wd\pandoc@box}%
  \ifdim\@tempb\p@<\@tempa\p@\let\@tempa\@tempb\fi% select the smaller of both
  \ifdim\@tempa\p@<\p@\scalebox{\@tempa}{\usebox\pandoc@box}%
  \else\usebox{\pandoc@box}%
  \fi%
}
% Set default figure placement to htbp
\def\fps@figure{htbp}
\makeatother
\usepackage{svg}





\setlength{\emergencystretch}{3em} % prevent overfull lines

\providecommand{\tightlist}{%
  \setlength{\itemsep}{0pt}\setlength{\parskip}{0pt}}



 


\KOMAoption{captions}{tableheading}
\makeatletter
\@ifpackageloaded{tcolorbox}{}{\usepackage[skins,breakable]{tcolorbox}}
\@ifpackageloaded{fontawesome5}{}{\usepackage{fontawesome5}}
\definecolor{quarto-callout-color}{HTML}{909090}
\definecolor{quarto-callout-note-color}{HTML}{0758E5}
\definecolor{quarto-callout-important-color}{HTML}{CC1914}
\definecolor{quarto-callout-warning-color}{HTML}{EB9113}
\definecolor{quarto-callout-tip-color}{HTML}{00A047}
\definecolor{quarto-callout-caution-color}{HTML}{FC5300}
\definecolor{quarto-callout-color-frame}{HTML}{acacac}
\definecolor{quarto-callout-note-color-frame}{HTML}{4582ec}
\definecolor{quarto-callout-important-color-frame}{HTML}{d9534f}
\definecolor{quarto-callout-warning-color-frame}{HTML}{f0ad4e}
\definecolor{quarto-callout-tip-color-frame}{HTML}{02b875}
\definecolor{quarto-callout-caution-color-frame}{HTML}{fd7e14}
\makeatother
\makeatletter
\@ifpackageloaded{bookmark}{}{\usepackage{bookmark}}
\makeatother
\makeatletter
\@ifpackageloaded{caption}{}{\usepackage{caption}}
\AtBeginDocument{%
\ifdefined\contentsname
  \renewcommand*\contentsname{Table of contents}
\else
  \newcommand\contentsname{Table of contents}
\fi
\ifdefined\listfigurename
  \renewcommand*\listfigurename{List of Figures}
\else
  \newcommand\listfigurename{List of Figures}
\fi
\ifdefined\listtablename
  \renewcommand*\listtablename{List of Tables}
\else
  \newcommand\listtablename{List of Tables}
\fi
\ifdefined\figurename
  \renewcommand*\figurename{Figure}
\else
  \newcommand\figurename{Figure}
\fi
\ifdefined\tablename
  \renewcommand*\tablename{Table}
\else
  \newcommand\tablename{Table}
\fi
}
\@ifpackageloaded{float}{}{\usepackage{float}}
\floatstyle{ruled}
\@ifundefined{c@chapter}{\newfloat{codelisting}{h}{lop}}{\newfloat{codelisting}{h}{lop}[chapter]}
\floatname{codelisting}{Listing}
\newcommand*\listoflistings{\listof{codelisting}{List of Listings}}
\makeatother
\makeatletter
\makeatother
\makeatletter
\@ifpackageloaded{caption}{}{\usepackage{caption}}
\@ifpackageloaded{subcaption}{}{\usepackage{subcaption}}
\makeatother
\usepackage{bookmark}
\IfFileExists{xurl.sty}{\usepackage{xurl}}{} % add URL line breaks if available
\urlstyle{same}
\hypersetup{
  pdftitle={Book},
  pdfauthor={Rakesh Venkat},
  colorlinks=true,
  linkcolor={blue},
  filecolor={Maroon},
  citecolor={Blue},
  urlcolor={Blue},
  pdfcreator={LaTeX via pandoc}}


\title{Book}
\author{Rakesh Venkat}
\date{2025-11-30}
\begin{document}
\maketitle


\bookmarksetup{startatroot}

\chapter{Overview}\label{overview}

\bookmarksetup{startatroot}

\chapter{The Book}\label{the-book}

\begin{quote}
\mbox{}%
\paragraph{Welcome to the documentation hub for my open source
projects.}\label{welcome-to-the-documentation-hub-for-my-open-source-projects.}

This site collects Technical Docs, Architecture Notes, and Design
Decisions for all my projects.
\end{quote}

\section{How to Use This Site}\label{how-to-use-this-site}

\begin{itemize}
\tightlist
\item
  Use the \textbf{sidebar} or the project cards above to jump into a
  specific project.\\
\item
  Within each project:

  \begin{itemize}
  \tightlist
  \item
    Start with the \emph{Overview} chapter
  \item
    Then read Architecture / Workflow chapters
  \item
    Dive into Code Snippets, Testing, and Future Work as needed
  \end{itemize}
\end{itemize}

This site is primarily written for \textbf{future me} --- but if you're
reading it later\\
as a user or contributor, I hope it gives you clear insight into how
everything fits together

\section{Roadmap \& Future Projects}\label{roadmap-future-projects}

This hub is designed to grow over time as more tools and experiments
appear.

Planned additions include:

\begin{itemize}
\tightlist
\item
  ðŸ§ª Experimental tools around Rust / Ratatui / docs automation\\
\item
  ðŸ§° Libraries for working with generated JSON data\\
\item
  ðŸ—‚ More utilities for automating documentation workflows
\end{itemize}

When a new project is created, it will get:

\begin{itemize}
\tightlist
\item
  Its own folder (e.g.~\texttt{new-project/})\\
\item
  Its own mini ``book'' of chapters\\
\item
  A card on this page linking into its docs
\end{itemize}

\bookmarksetup{startatroot}

\chapter*{}\label{section}
\addcontentsline{toc}{chapter}{}

\markboth{}{}

\section{About Me}\label{about-me}

I'm \textbf{Rakesh V}, a developer and tinkerer who enjoys building
tools that make it easier to think, automate, and explore ideas.

I maintain the projects in this ``book'' --- most of them in Rust, some
around Ratatui, and others around documentation and tooling.

If you'd like to know more about my background, how these tools came
about, and how to support my work, see:

âž¡ï¸ \href{about-author.qmd}{Read more in ``Author'' section}

\begin{center}\rule{0.5\linewidth}{0.5pt}\end{center}

\section{Projects Overview}\label{projects-overview}

\subsection{ðŸ€ ratcrate-core}\label{ratcrate-core}

The \textbf{engine} behind the Ratatui ecosystem index.

\begin{itemize}
\tightlist
\item
  Scans the crates.io sparse index\\
\item
  Finds all crates depending on \texttt{ratatui}\\
\item
  Enriches them with crates.io metadata\\
\item
  Applies smart caching (version + timestamp based)\\
\item
  Produces \texttt{ratcrate.json} for other tools to consume
\end{itemize}

âž¡ï¸ \href{rat-core/index.qmd}{Read the ratcrate-core docs Â»}

\subsection{\texorpdfstring{ðŸ’» ratcrate-cli
\emph{(planned)}}{ðŸ’» ratcrate-cli (planned)}}\label{ratcrate-cli-planned}

A command-line interface for exploring the Ratatui ecosystem.

\begin{itemize}
\tightlist
\item
  Reads \texttt{ratcrate.json} produced by \texttt{ratcrate-core}\\
\item
  Search and filter Ratatui crates from the terminal\\
\item
  Show stats, links, and crate details in a compact way
\end{itemize}

âž¡ï¸ \href{rat-cli/index.qmd}{Read the ratcrate-cli docs Â»}

\begin{center}\rule{0.5\linewidth}{0.5pt}\end{center}

\subsection{\texorpdfstring{ðŸŽ› ratcrate-tui
\emph{(planned)}}{ðŸŽ› ratcrate-tui (planned)}}\label{ratcrate-tui-planned}

A \textbf{Ratatui-based TUI} for browsing Ratatui crates.\\
Very meta. Very fun.

\begin{itemize}
\tightlist
\item
  Terminal UI built with Ratatui\\
\item
  Interactive search and filters\\
\item
  Crate detail views with stats and links\\
\item
  Powered by \texttt{ratcrate-core} data
\end{itemize}

âž¡ï¸ \href{rat-tui/index.qmd}{Read the ratcrate-tui docs Â»}

\subsection{\texorpdfstring{â˜ï¸Ž doc2quarto
\emph{(planned)}}{â˜ï¸Ž doc2quarto (planned)}}\label{doc2quarto-planned}

A helper tool for turning rough notes, markdown, or code comments into\\
\textbf{structured Quarto documentation}.

\begin{itemize}
\tightlist
\item
  Convert notes into \texttt{.qmd} skeletons\\
\item
  Generate chapter structures\\
\item
  Insert placeholders for diagrams/screenshots\\
\item
  Ideal for standardizing docs across all projects
\end{itemize}

âž¡ï¸ \href{doc2quarto/index.qmd}{Read the doc2quarto docs Â»}

\begin{center}\rule{0.5\linewidth}{0.5pt}\end{center}

\bookmarksetup{startatroot}

\chapter{Author}\label{author}

\bookmarksetup{startatroot}

\chapter{About the Author}\label{about-the-author}

Hi, I'm \textbf{Rakesh Venkat} --- a developer, researcher, and lifelong
tinkerer who likes building tools that:

\begin{itemize}
\tightlist
\item
  Automate away repetitive work\\
\item
  Make it easier to explore ideas\\
\item
  Give people nicer ways to learn from and navigate code
\end{itemize}

Most of the projects in this book revolves around:

\begin{itemize}
\tightlist
\item
  ðŸ¦€ \textbf{Rust} and terminal tools\\
\item
  ðŸ§ª \textbf{Ratatui} TUIs (very meta)\\
\item
  ðŸ“š \textbf{Documentation} and knowledge organization\\
\item
  ðŸ§© Small research \& experiments that later become libraries or tools
\end{itemize}

I think of this book as a logbook of the systems I'm building and how
they fit together.

\begin{center}\rule{0.5\linewidth}{0.5pt}\end{center}

\section{What I'm Trying to Do With These
Projects}\label{what-im-trying-to-do-with-these-projects}

The broader goals behind these tools:

\begin{itemize}
\tightlist
\item
  Build \textbf{high-leverage tools} that save time for other
  developers.\\
\item
  Collect and organize knowledge (like the Ratatui ecosystem) so people
  don't have to rediscover the same things repeatedly.
\item
  Treat documentation as a first-class artifact, not an afterthought.
\end{itemize}

\texttt{ratcrate-core} is one piece of that: a way to turn a noisy,
low-level index into a structured, queryable view of an ecosystem.

Future projects like \texttt{ratcrate-cli}, \texttt{ratcrate-tui}, and
\texttt{doc2quarto} are meant to build on top of that foundation.

\begin{center}\rule{0.5\linewidth}{0.5pt}\end{center}

\section{A Note to Future Me (and Future
Readers)}\label{a-note-to-future-me-and-future-readers}

This book is partly a gift to \textbf{future me}: so I can come back in
six months, read a chapter, and instantly remember why I made certain
decisions.

If you're reading it as someone else:

\begin{itemize}
\tightlist
\item
  I hope it helps you understand the design of these projects.
\item
  I'd love it if it inspires you to build your own tools, or contribute
  ideas and improvements.
\end{itemize}

\begin{center}\rule{0.5\linewidth}{0.5pt}\end{center}

\section{Links}\label{links}

You can find me here:

\begin{itemize}
\tightlist
\item
  ðŸ™ GitHub: \url{https://github.com/rvbug}\\
\item
  ðŸŒ Website: \url{https://qubitai.in}\\
\item
  ðŸ¦ X (Twitter): \url{https://x.com/rvbugged}\\
\item
  ðŸ’¼ LinkedIn: \emph{(add your real profile URL here)}
\end{itemize}

\section{\texorpdfstring{ }{   }}\label{section-1}

\href{https://ko-fi.com/rvbugged}{\pandocbounded{\includesvg[keepaspectratio]{index_files/mediabag/githubbutton_sm.svg}}}
~~~~~~~~~~~~
\href{https://github.com/sponsors/ratcrate}{\pandocbounded{\includegraphics[keepaspectratio]{index_files/mediabag/rvbug.pdf}}}

\part{rat-core}

\chapter{Ratcrate-core Documentation}\label{ratcrate-core-documentation}

Welcome to the official documentation for \textbf{ratcrate-core}, the
backend engine powering the Ratatui ecosystem index.

\begin{center}\rule{0.5\linewidth}{0.5pt}\end{center}

This book covers:

\begin{itemize}
\item
  The origin story
\item
  Technical architecture
\item
  Sparse index parsing
\item
  Metadata enrichment
\item
  Multi-day caching
\item
  State \& checkpointing
\item
  Final JSON output
\item
  Code walkthroughs
\item
  Future roadmap
\end{itemize}

\begin{tcolorbox}[enhanced jigsaw, toprule=.15mm, breakable, colback=white, colframe=quarto-callout-note-color-frame, bottomtitle=1mm, bottomrule=.15mm, title=\textcolor{quarto-callout-note-color}{\faInfo}\hspace{0.5em}{Note}, opacityback=0, rightrule=.15mm, leftrule=.75mm, opacitybacktitle=0.6, colbacktitle=quarto-callout-note-color!10!white, coltitle=black, toptitle=1mm, left=2mm, titlerule=0mm, arc=.35mm]

This project is currently private and will be open-sourced later.

\end{tcolorbox}

\chapter{01-Origin}\label{origin}

\chapter{Chapter 1 --- Origin of the
Idea}\label{chapter-1-origin-of-the-idea}

The idea for \textbf{ratcrate-core} began while exploring the growing
ecosystem around the Rust TUI framework \textbf{Ratatui}.

Despite hundreds of crates and applications using Ratatui, there was:

\begin{itemize}
\tightlist
\item
  No central directory\\
\item
  No easy way to search TUI apps\\
\item
  No dashboard showing downloads, popularity, repositories\\
\item
  No index of community examples\\
\item
  No machine-readable dataset
\end{itemize}

So \textbf{ratcrate-core} was born.

\section{Goals}\label{goals}

\begin{itemize}
\tightlist
\item
  Discover all crates depending on \texttt{ratatui}
\item
  Enrich them with crates.io metadata
\item
  Cache results for fast incremental runs
\item
  Output a unified dataset usable by:

  \begin{itemize}
  \tightlist
  \item
    \texttt{ratcrate-cli}
  \item
    \texttt{ratcrate-tui}
  \item
    \texttt{ratcrate-web}
  \end{itemize}
\end{itemize}

\section{Placeholder: Photo / Architecture
Sketch}\label{placeholder-photo-architecture-sketch}

\section{\texorpdfstring{\href{}{architecture}}{architecture}}\label{architecture}

\chapter{02-overview}\label{overview-1}

\chapter{Chapter 2 --- Project
Overview}\label{chapter-2-project-overview}

\section{What ratcrate-core Does}\label{what-ratcrate-core-does}

\begin{enumerate}
\def\labelenumi{\arabic{enumi}.}
\tightlist
\item
  Reads the crates.io sparse index
\item
  Identifies crates that depend on \texttt{ratatui}
\item
  Fetches metadata from the crates.io HTTP API
\item
  Applies intelligent multi-day caching
\item
  Produces the final \texttt{ratcrate.json} dataset
\end{enumerate}

\section{High-Level Pipeline}\label{high-level-pipeline}

\includegraphics[width=5.48in,height=7.8in]{rat-core/02-overview_files/figure-latex/mermaid-figure-1.png}

\section{Inputs and Outputs}\label{inputs-and-outputs}

\section{\texorpdfstring{\textbf{Input:}}{Input:}}\label{input}

\begin{itemize}
\item
  Local clone of crates.io sparse index
\item
  Crates.io HTTP API
\end{itemize}

\section{\texorpdfstring{\textbf{Output:}}{Output:}}\label{output}

\texttt{output/ratcrate.json}

\section{Screenshot running the tool}\label{screenshot-running-the-tool}

\chapter{03-architecture}\label{architecture-1}

\begin{center}\rule{0.5\linewidth}{0.5pt}\end{center}

\chapter{Chapter 3 --- Architecture
Overview}\label{chapter-3-architecture-overview}

\texttt{ratcrate-core} consists of the following modules:

\begin{Shaded}
\begin{Highlighting}[]

\SpecialStringTok{{-}   }\NormalTok{main.rs}
\SpecialStringTok{{-}   }\NormalTok{sparse\_parser.rs}
\SpecialStringTok{{-}   }\NormalTok{crates\_client.rs}
\SpecialStringTok{{-}   }\NormalTok{index\_cache.rs}
\SpecialStringTok{{-}   }\NormalTok{crate\_cache.rs}
\SpecialStringTok{{-}   }\NormalTok{state.rs}
\SpecialStringTok{{-}   }\NormalTok{json\_generator.rs}
\SpecialStringTok{{-}   }\NormalTok{types.rs}
\end{Highlighting}
\end{Shaded}

\section{Architecture Diagram}\label{architecture-diagram}

\includegraphics[width=3.79in,height=6.15in]{rat-core/03-architecture_files/figure-latex/mermaid-figure-1.png}

\section{Component Responsibilities}\label{component-responsibilities}

\texttt{sparse\_parser.rs} - {[} {]} Scans crates.io sparse index - {[}
{]} Extracts latest versions depending on ratatui

\texttt{index\_cache.rs}

\begin{itemize}
\item[$\square$]
  Remembers version + last\_checked
\item[$\square$]
  Drives fetch/skip logic
\end{itemize}

\texttt{crate\_cache.rs}

\begin{itemize}
\item[$\square$]
  Stores full CratePackage metadata
\item[$\square$]
  Used for cache hits
\end{itemize}

\texttt{crates\_client.rs}

\begin{itemize}
\item[$\square$]
  HTTP client for crates.io
\item[$\square$]
  Handles retries and rate limits
\end{itemize}

\texttt{state.rs}

\begin{itemize}
\item[$\square$]
  Stores run progress
\item[$\square$]
  Supports resume
\end{itemize}

\texttt{json\_generator.rs}

\begin{itemize}
\tightlist
\item[$\square$]
  Builds final dataset and writes atomically
\end{itemize}

\chapter{04-sparse-index}\label{sparse-index}

\begin{center}\rule{0.5\linewidth}{0.5pt}\end{center}

\chapter{Chapter 4 --- Sparse Index
Parsing}\label{chapter-4-sparse-index-parsing}

The crates.io sparse index is a massive tree of directories where each
file contains \textbf{line-delimited JSON}, one line per version.

\section{Example Entry}\label{example-entry}

\begin{Shaded}
\begin{Highlighting}[]
\FunctionTok{\{}\DataTypeTok{"name"}\FunctionTok{:}\StringTok{"a{-}tui{-}tool"}\FunctionTok{,}\DataTypeTok{"vers"}\FunctionTok{:}\StringTok{"0.4.1"}\FunctionTok{,}\DataTypeTok{"deps"}\FunctionTok{:}\OtherTok{[}\FunctionTok{\{}\DataTypeTok{"name"}\FunctionTok{:}\StringTok{"ratatui"}\FunctionTok{\}}\OtherTok{]}\FunctionTok{,}\DataTypeTok{"yanked"}\FunctionTok{:}\KeywordTok{false}\FunctionTok{\}}
\end{Highlighting}
\end{Shaded}

\section{What ratcrate-core Extracts}\label{what-ratcrate-core-extracts}

\begin{itemize}
\item
  Latest non-yanked version
\item
  Dependency list â†’ look for \texttt{"name"}: \texttt{"ratatui"}
\end{itemize}

\section{Algorithm Summary}\label{algorithm-summary}

\begin{itemize}
\item
  Walk the directory tree
\item
  For each file:

  \begin{itemize}
  \tightlist
  \item
    Read line by line
  \item
    Parse as JSON
  \item
    Skip yanked versions
  \item
    If any version depends on ratatui â†’ track latest version
  \end{itemize}
\end{itemize}

Placeholder: Code snippet screenshot

\chapter{05-caching}\label{caching}

\chapter{05-caching.qmd}\label{caching.qmd}

\chapter{Chapter 5 --- Intelligent Multi-Day
Caching}\label{chapter-5-intelligent-multi-day-caching}

Unlike ETag-based caching (crates.io does not support ETags),
ratcrate-core uses a custom two-level caching strategy.

\section{1. Index Cache}\label{index-cache}

\begin{Shaded}
\begin{Highlighting}[]
\FunctionTok{\{}
  \DataTypeTok{"a{-}tui{-}tool"}\FunctionTok{:} \FunctionTok{\{}
    \DataTypeTok{"latest\_version"}\FunctionTok{:} \StringTok{"0.4.1"}\FunctionTok{,}
    \DataTypeTok{"last\_checked"}\FunctionTok{:} \StringTok{"2025{-}11{-}28T08:00:00Z"}
  \FunctionTok{\}}
\FunctionTok{\}}
\end{Highlighting}
\end{Shaded}

\section{2. Metadata Cache}\label{metadata-cache}

\begin{Shaded}
\begin{Highlighting}[]
\FunctionTok{\{}
  \DataTypeTok{"a{-}tui{-}tool"}\FunctionTok{:} \FunctionTok{\{}
    \DataTypeTok{"name"}\FunctionTok{:} \StringTok{"a{-}tui{-}tool"}\FunctionTok{,}
    \DataTypeTok{"version"}\FunctionTok{:} \StringTok{"0.4.1"}\FunctionTok{,}
    \DataTypeTok{"downloads"}\FunctionTok{:} \DecValTok{4533}
  \FunctionTok{\}}
\FunctionTok{\}}
\end{Highlighting}
\end{Shaded}

\subsection{Fetch/Skip Logic}\label{fetchskip-logic}

\begin{Shaded}
\begin{Highlighting}[]
\ControlFlowTok{if}\NormalTok{ (}\KeywordTok{crate}\NormalTok{ not }\KeywordTok{in}\NormalTok{ index\_cache) â†’ FETCH}
\ControlFlowTok{else} \ControlFlowTok{if}\NormalTok{ (version changed) â†’ FETCH}
\ControlFlowTok{else} \ControlFlowTok{if}\NormalTok{ (now }\OperatorTok{{-}}\NormalTok{ last\_checked }\OperatorTok{\textless{}}\NormalTok{ 24h) â†’ SKIP}
\ControlFlowTok{else}\NormalTok{ â†’ FETCH (stale)}
\end{Highlighting}
\end{Shaded}

Placeholder: Cache hit/miss screenshots

\chapter{06-http-client}\label{http-client}

\chapter{Chapter 6 --- Crates.io HTTP
Client}\label{chapter-6-crates.io-http-client}

The HTTP client handles: - Building URLs - Retrying failures -
Rate-limit handling (429) - Deserializing responses

\section{Retry Logic}\label{retry-logic}

\begin{Shaded}
\begin{Highlighting}[]
\ControlFlowTok{match}\NormalTok{ response}\OperatorTok{.}\NormalTok{status() }\OperatorTok{\{}
    \DecValTok{429} \OperatorTok{=\textgreater{}}\NormalTok{ wait retry}\OperatorTok{{-}}\NormalTok{after or 60s}
\NormalTok{    5xx }\OperatorTok{=\textgreater{}}\NormalTok{ exponential backoff}
\NormalTok{    \_ }\OperatorTok{=\textgreater{}}\NormalTok{ success}
\OperatorTok{\}}
\end{Highlighting}
\end{Shaded}

Placeholder: Code snippet screenshot

\chapter{07-state-management}\label{state-management}

\chapter{Chapter 7 --- State Management \&
Resume}\label{chapter-7-state-management-resume}

To support long runs (sometimes \textgreater30 minutes), progress is
saved in:

\section{\texorpdfstring{\texttt{cache/progress.json}}{cache/progress.json}}\label{cacheprogress.json}

\subsection{Stored Fields}\label{stored-fields}

\begin{Shaded}
\begin{Highlighting}[]
\FunctionTok{\{}
  \DataTypeTok{"processed\_crates"}\FunctionTok{:} \DecValTok{53}\FunctionTok{,}
  \DataTypeTok{"total\_crates"}\FunctionTok{:} \DecValTok{120}\FunctionTok{,}
  \DataTypeTok{"last\_processed\_crate"}\FunctionTok{:} \StringTok{"cool{-}tui{-}app"}\FunctionTok{,}
  \DataTypeTok{"partial\_data"}\FunctionTok{:} \FunctionTok{\{} \ErrorTok{...} \FunctionTok{\}}
\FunctionTok{\}}
\end{Highlighting}
\end{Shaded}

\section{Resume Behavior}\label{resume-behavior}

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{{-}{-}resume â†’ continue scan  }
\NormalTok{{-}{-}force{-}fresh â†’ ignore progress file}
\end{Highlighting}
\end{Shaded}

Placeholder: progress.json screenshot

\chapter{08-json-output}\label{json-output}

\chapter{Chapter 8 --- Final JSON
Output}\label{chapter-8-final-json-output}

\texttt{ratcrate.json} is the central dataset for all future projects:

\begin{itemize}
\tightlist
\item
  ratcrate-cli
\item
  ratcrate-tui
\item
  ratcrate-web
\end{itemize}

\section{Structure}\label{structure}

\begin{Shaded}
\begin{Highlighting}[]
\FunctionTok{\{}
  \DataTypeTok{"metadata"}\FunctionTok{:} \FunctionTok{\{}\ErrorTok{...}\FunctionTok{\},}
  \DataTypeTok{"statistics"}\FunctionTok{:} \FunctionTok{\{}\ErrorTok{...}\FunctionTok{\},}
  \DataTypeTok{"crates"}\FunctionTok{:} \OtherTok{[}\ErrorTok{...}\OtherTok{]}
\FunctionTok{\}}
\end{Highlighting}
\end{Shaded}

Placeholder: sample JSON screenshot

\chapter{09-workflow-diagram}\label{workflow-diagram}

\chapter{Chapter 9 --- Full Workflow
Diagram}\label{chapter-9-full-workflow-diagram}

\section{Technical Workflow Diagram}\label{technical-workflow-diagram}

\includegraphics[width=25.13in,height=5.33in]{rat-core/09-workflow-diagram_files/figure-latex/mermaid-figure-1.png}

Placeholder: Image version of diagram

\chapter{10-code-snippets}\label{code-snippets}

\chapter{Chapter 10 --- Important Code
Snippets}\label{chapter-10-important-code-snippets}

\section{Parsing Sparse Index Line}\label{parsing-sparse-index-line}

\begin{Shaded}
\begin{Highlighting}[]
\KeywordTok{let}\NormalTok{ entry}\OperatorTok{:}\NormalTok{ SparseIndexEntry }\OperatorTok{=} \PreprocessorTok{serde\_json::}\NormalTok{from\_str(line)}\OperatorTok{?;}
\ControlFlowTok{if}\NormalTok{ new }\KeywordTok{crate}\NormalTok{ or version changed or stale }\OperatorTok{\{}
\NormalTok{    fetch}
\OperatorTok{\}} \ControlFlowTok{else} \OperatorTok{\{}
    \KeywordTok{use}\NormalTok{ cached metadata}
\OperatorTok{\}}
\end{Highlighting}
\end{Shaded}

\section{Atomic Write}\label{atomic-write}

\begin{Shaded}
\begin{Highlighting}[]
\KeywordTok{let}\NormalTok{ tmp }\OperatorTok{=}\NormalTok{ path}\OperatorTok{.}\NormalTok{with\_extension(}\StringTok{"tmp"}\NormalTok{)}\OperatorTok{;}
\PreprocessorTok{fs::}\NormalTok{write(}\OperatorTok{\&}\NormalTok{tmp}\OperatorTok{,}\NormalTok{ data)}\OperatorTok{?;}
\PreprocessorTok{fs::}\NormalTok{rename(}\OperatorTok{\&}\NormalTok{tmp}\OperatorTok{,} \OperatorTok{\&}\NormalTok{path)}\OperatorTok{?;}
\end{Highlighting}
\end{Shaded}

Placeholder: Add screenshots of code later

\chapter{11-future-work}\label{future-work}

\chapter{Chapter 11 --- Future Work}\label{chapter-11-future-work}

\section{Planned}\label{planned}

\begin{itemize}
\tightlist
\item
  GitHub API integration for stars/forks/issues
\item
  Semantic version sorting (true semver)
\item
  Cache analytics dashboard
\item
  Parallel fetching (with rate-limit protection)
\item
  WebAssembly build for browser-based scanning
\item
  Plugin system for community extensions
\end{itemize}

\section{Placeholder: Roadmap
graphic}\label{placeholder-roadmap-graphic}

\chapter{12-contributing}\label{contributing}

\chapter{Chapter 12 --- Contributing}\label{chapter-12-contributing}

This project will be open-sourced later.\\
Contributions are welcome after the public release.

\section{Guidelines}\label{guidelines}

\begin{itemize}
\tightlist
\item
  Write small, atomic PRs\\
\item
  Include tests for new logic\\
\item
  Add/update documentation\\
\item
  Follow Rust formatting and linting
\end{itemize}

\section{Placeholder: Contribution workflow
diagram}\label{placeholder-contribution-workflow-diagram}

\chapter{13-usage-examples}\label{usage-examples}

\chapter{Chapter 13 --- Usage \&
Examples}\label{chapter-13-usage-examples}

This chapter provides practical examples of how to run
\texttt{ratcrate-core}, how to inspect its output, and how to
troubleshoot common workflows.

\begin{center}\rule{0.5\linewidth}{0.5pt}\end{center}

\section{1. Basic Usage}\label{basic-usage}

\subsection{Clone the crates.io sparse
index}\label{clone-the-crates.io-sparse-index}

\begin{Shaded}
\begin{Highlighting}[]
\FunctionTok{git}\NormalTok{ clone https://github.com/rust{-}lang/crates.io{-}index.git sparse{-}index}
\end{Highlighting}
\end{Shaded}

\subsection{1. Run ratcrate-core}\label{run-ratcrate-core}

\begin{Shaded}
\begin{Highlighting}[]
\ExtensionTok{cargo}\NormalTok{ run }\AttributeTok{{-}{-}} \AttributeTok{{-}s}\NormalTok{ sparse{-}index}
\end{Highlighting}
\end{Shaded}

This will:

\begin{itemize}
\tightlist
\item
  Scan the sparse index
\item
  Identify crates depending on ratatui
\item
  Fetch crates.io metadata
\item
  Save caches to cache/
\item
  Produce: output/ratcrate.json
\end{itemize}

\subsection{2. Using a Sample Index for Faster
Testing}\label{using-a-sample-index-for-faster-testing}

Useful when building or debugging:

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{sample{-}index/}
\NormalTok{  a/}
\NormalTok{    a/}
\NormalTok{      a}
\end{Highlighting}
\end{Shaded}

Run:

\begin{Shaded}
\begin{Highlighting}[]
\ExtensionTok{$}\OperatorTok{\textgreater{}}\NormalTok{ cargo }\ExtensionTok{run} \AttributeTok{{-}{-}} \AttributeTok{{-}s}\NormalTok{ sample{-}index}
\end{Highlighting}
\end{Shaded}

\subsection{3. Viewing the Output JSON}\label{viewing-the-output-json}

Pretty-print with `jq

\begin{Shaded}
\begin{Highlighting}[]
\ExtensionTok{$}\OperatorTok{\textgreater{}}\NormalTok{ jq }\StringTok{\textquotesingle{}.\textquotesingle{}}\NormalTok{ output/ratcrate.json}
\end{Highlighting}
\end{Shaded}

\subsection{4. View downloads for the top 10
crates}\label{view-downloads-for-the-top-10-crates}

\begin{Shaded}
\begin{Highlighting}[]
\ExtensionTok{$}\OperatorTok{\textgreater{}}\NormalTok{ jq }\StringTok{\textquotesingle{}.crates | sort\_by(.downloads) | reverse | .[0:10]\textquotesingle{}}
\end{Highlighting}
\end{Shaded}

\subsection{5. Find crates without a repository
URL}\label{find-crates-without-a-repository-url}

\begin{Shaded}
\begin{Highlighting}[]
\ExtensionTok{$}\OperatorTok{\textgreater{}}\NormalTok{ jq }\StringTok{\textquotesingle{}.crates[] | select(.repository == null) | .name\textquotesingle{}}
\end{Highlighting}
\end{Shaded}

\subsection{4. Quick Code Examples}\label{quick-code-examples}

\subsubsection{Load ratcrate.json in
Rust}\label{load-ratcrate.json-in-rust}

\begin{Shaded}
\begin{Highlighting}[]
\KeywordTok{use} \PreprocessorTok{std::}\NormalTok{fs}\OperatorTok{;}

\KeywordTok{fn}\NormalTok{ main() }\OperatorTok{\{}
    \KeywordTok{let}\NormalTok{ data }\OperatorTok{=} \PreprocessorTok{fs::}\NormalTok{read\_to\_string(}\StringTok{"output/ratcrate.json"}\NormalTok{)}\OperatorTok{.}\NormalTok{unwrap()}\OperatorTok{;}
    \KeywordTok{let}\NormalTok{ parsed}\OperatorTok{:} \PreprocessorTok{ratcrate\_core::}\NormalTok{CratesData }\OperatorTok{=} \PreprocessorTok{serde\_json::}\NormalTok{from\_str(}\OperatorTok{\&}\NormalTok{data)}\OperatorTok{.}\NormalTok{unwrap()}\OperatorTok{;}
    \PreprocessorTok{println!}\NormalTok{(}\StringTok{"\{:\#?\}"}\OperatorTok{,}\NormalTok{ parsed}\OperatorTok{.}\NormalTok{metadata}\OperatorTok{.}\NormalTok{statistics)}\OperatorTok{;}
\OperatorTok{\}}
\end{Highlighting}
\end{Shaded}

\subsubsection{Load ratcrate.json in
Python}\label{load-ratcrate.json-in-python}

\begin{Shaded}
\begin{Highlighting}[]
\ImportTok{import}\NormalTok{ json}

\ControlFlowTok{with} \BuiltInTok{open}\NormalTok{(}\StringTok{"output/ratcrate.json"}\NormalTok{) }\ImportTok{as}\NormalTok{ f:}
\NormalTok{    data }\OperatorTok{=}\NormalTok{ json.load(f)}

\BuiltInTok{print}\NormalTok{(}\StringTok{"Total crates:"}\NormalTok{, }\BuiltInTok{len}\NormalTok{(data[}\StringTok{"crates"}\NormalTok{]))}
\end{Highlighting}
\end{Shaded}

\subsection{5. Tips}\label{tips}

Always clone the sparse index with full depth (no partial clones).

Use CRATES\_IO\_TOKEN for fewer rate limits.

Run daily or weekly for incremental updates.

\subsection{Placeholder: Screenshots}\label{placeholder-screenshots}

Screenshot: running cargo run -- -s sparse-index

Screenshot: ratcrate.json preview

Screenshot: jq queries

\chapter{14-testing-and-quality}\label{testing-and-quality}

\chapter{Testing and Quality}\label{testing-and-quality-1}

This chapter documents the testing strategy, recommended practices, and
future improvements for ensuring quality in \texttt{ratcrate-core}.

\begin{center}\rule{0.5\linewidth}{0.5pt}\end{center}

\section{1. Testing Philosophy}\label{testing-philosophy}

The tool processes large amounts of data and interacts with remote APIs.
Testing focuses on:

\begin{itemize}
\tightlist
\item
  \textbf{Correctness of parsing} (sparse index)
\item
  \textbf{Correctness of caching logic}
\item
  \textbf{Robustness of HTTP client}
\item
  \textbf{Consistency of final JSON output}
\item
  \textbf{Resume functionality}
\end{itemize}

\begin{center}\rule{0.5\linewidth}{0.5pt}\end{center}

\section{2. Unit Tests}\label{unit-tests}

\subsection{2.1. Sparse Index Parsing}\label{sparse-index-parsing}

Use a fake index file:

\begin{Shaded}
\begin{Highlighting}[]
\AttributeTok{\#[}\NormalTok{test}\AttributeTok{]}
\KeywordTok{fn}\NormalTok{ test\_sparse\_entry\_parsing() }\OperatorTok{\{}
    \KeywordTok{let}\NormalTok{ data }\OperatorTok{=} \StringTok{r\#"}
\StringTok{\{"name":"a","vers":"0.1.0","deps":[\{"name":"ratatui"\}],"yanked":false\}}
\StringTok{\{"name":"a","vers":"0.1.1","deps":[\{"name":"serde"\}],"yanked":false\}}
\StringTok{"\#}\OperatorTok{;}

    \CommentTok{// write to temp file and parse}
\OperatorTok{\}}
\end{Highlighting}
\end{Shaded}

\subsection{2.2. Index Cache}\label{index-cache-1}

\begin{Shaded}
\begin{Highlighting}[]
\AttributeTok{\#[}\NormalTok{test}\AttributeTok{]}
\KeywordTok{fn}\NormalTok{ test\_index\_cache\_update() }\OperatorTok{\{}
    \KeywordTok{let} \KeywordTok{mut}\NormalTok{ cache }\OperatorTok{=} \PreprocessorTok{IndexCache::}\NormalTok{new(temp\_path)}\OperatorTok{;}
\NormalTok{    cache}\OperatorTok{.}\NormalTok{update(}\StringTok{"crate"}\OperatorTok{.}\NormalTok{into()}\OperatorTok{,} \StringTok{"1.0.0"}\OperatorTok{.}\NormalTok{into()}\OperatorTok{,} \PreprocessorTok{Utc::}\NormalTok{now())}\OperatorTok{;}
    \PreprocessorTok{assert\_eq!}\NormalTok{(cache}\OperatorTok{.}\NormalTok{len()}\OperatorTok{,} \DecValTok{1}\NormalTok{)}\OperatorTok{;}
\OperatorTok{\}}
\end{Highlighting}
\end{Shaded}

\subsection{2.3. Metadata Cache}\label{metadata-cache-1}

Ensure it serializes/deserializes cleanly.

\section{3. Manual Testing}\label{manual-testing}

\subsection{3.1. Small Synthetic Index}\label{small-synthetic-index}

\begin{itemize}
\tightlist
\item[$\square$]
  Place 3--5 crates in a folder.
\item[$\square$]
  Helpful for debugging edge cases.
\end{itemize}

\subsection{3.2. Production Index Dry
Run}\label{production-index-dry-run}

Run with full sparse index but stop after 10 crates (TODO option).

\section{4. Future Automated Testing
Goals}\label{future-automated-testing-goals}

\begin{itemize}
\tightlist
\item
  Mock crates.io server (via httptest or wiremock-rs)
\item
  Add snapshot tests for ratcrate.json
\item
  Add schema validation tests
\item
  Add a GitHub Actions CI pipeline:

  \begin{itemize}
  \tightlist
  \item
    Formatting (\texttt{cargo\ fmt})
  \item
    Lints (\texttt{cargo\ clippy\ -\/-\ -D\ warnings})
  \item
    Tests (\texttt{cargo\ test})
  \end{itemize}
\end{itemize}

\section{Placeholder: Test output
screenshots}\label{placeholder-test-output-screenshots}

Screenshot: cargo test Screenshot: failing sparse index parse
Screenshot: cache behavior test

\chapter{15-Performance-and-Scaling}\label{performance-and-scaling}

\chapter{\texorpdfstring{ðŸ“˜
\textbf{15-performance-and-scaling.qmd}}{ðŸ“˜ 15-performance-and-scaling.qmd}}\label{performance-and-scaling.qmd}

This chapter covers how \texttt{ratcrate-core} performs today and how it
will scale with the expanding Ratatui ecosystem.

\begin{center}\rule{0.5\linewidth}{0.5pt}\end{center}

\section{1. First-Run vs Cached-Runs}\label{first-run-vs-cached-runs}

\subsection{Cold Run (no caches)}\label{cold-run-no-caches}

\begin{itemize}
\tightlist
\item
  Full sparse index scan\\
\item
  50--200+ crates depending on Ratatui\\
\item
  All crates.io metadata fetched\\
\item
  \textasciitilde100 seconds typical
\end{itemize}

\subsection{Warm Run (caches present)}\label{warm-run-caches-present}

\begin{itemize}
\tightlist
\item
  Reads sparse index again\\
\item
  But \textbf{0 HTTP calls}\\
\item
  \textasciitilde5 seconds typical
\end{itemize}

\begin{center}\rule{0.5\linewidth}{0.5pt}\end{center}

\section{2. Where Time is Spent}\label{where-time-is-spent}

\subsection{Sparse Index Parsing}\label{sparse-index-parsing-1}

\begin{quote}
Disk IO bound\\
Many small files
\end{quote}

\subsection{Crates.io API}\label{crates.io-api}

\begin{quote}
Network bound\\
Rate-limited (1 request/sec recommended)
\end{quote}

\subsection{JSON Serialization}\label{json-serialization}

\begin{quote}
Negligible compared to above
\end{quote}

\begin{center}\rule{0.5\linewidth}{0.5pt}\end{center}

\section{3. Current Optimizations}\label{current-optimizations}

\begin{itemize}
\tightlist
\item
  Incremental caching\\
\item
  Only fetches metadata if:

  \begin{itemize}
  \tightlist
  \item
    New crate
  \item
    New version
  \item
    Stale (\textgreater24h)
  \end{itemize}
\item
  Atomic writes to avoid corruption\\
\item
  Resume support to avoid wasted work
\end{itemize}

\begin{center}\rule{0.5\linewidth}{0.5pt}\end{center}

\section{4. Future Optimization Ideas}\label{future-optimization-ideas}

\begin{itemize}
\tightlist
\item
  Parallel sparse index scanning\\
\item
  Batch HTTP calls (crates.io API doesn't support this yet)\\
\item
  Persistent HTTP connections\\
\item
  Compression for cached JSON\\
\item
  Local SQLite cache instead of JSON files
\end{itemize}

\begin{center}\rule{0.5\linewidth}{0.5pt}\end{center}

\section{Placeholder: Benchmark
Figures}\label{placeholder-benchmark-figures}

\begin{itemize}
\tightlist
\item[$\square$]
  Screenshot: cold run timings\\
\item[$\square$]
  Screenshot: warm run timings\\
\item[$\square$]
  Screenshot: flamegraph (future work)
\end{itemize}

\chapter{16-Troubleshooting-FAQ}\label{troubleshooting-faq}

\chapter{Troubleshooting \& FAQ}\label{troubleshooting-faq-1}

\section{1. Common Issues}\label{common-issues}

\subsection{\texorpdfstring{â—
\texttt{Sparse\ index\ directory\ not\ found}}{â— Sparse index directory not found}}\label{sparse-index-directory-not-found}

Make sure you cloned it properly:

\begin{Shaded}
\begin{Highlighting}[]
\FunctionTok{git}\NormalTok{ clone https://github.com/rust{-}lang/crates.io{-}index.git sparse{-}index}
\end{Highlighting}
\end{Shaded}

\subsection{â— 429 Too Many Requests}\label{too-many-requests}

Solutions:

\begin{itemize}
\tightlist
\item
  Use an authenticated token:
\end{itemize}

\begin{Shaded}
\begin{Highlighting}[]
\VariableTok{CRATES\_IO\_TOKEN}\OperatorTok{=\textless{}}\NormalTok{token}\OperatorTok{\textgreater{}}
\end{Highlighting}
\end{Shaded}

\begin{itemize}
\tightlist
\item
  Reduce frequency of runs
\item
  Let caches handle daily refreshes
\end{itemize}

\subsection{â— Failed to parse cache}\label{failed-to-parse-cache}

Fix:

\begin{Shaded}
\begin{Highlighting}[]
\FunctionTok{rm}\NormalTok{ cache/index\_cache.json}
\FunctionTok{rm}\NormalTok{ cache/crates\_cache.json}
\ExtensionTok{cargo}\NormalTok{ run }\AttributeTok{{-}{-}} \AttributeTok{{-}s}\NormalTok{ sparse{-}index}
\end{Highlighting}
\end{Shaded}

\subsection{â— Resume not working}\label{resume-not-working}

Use:

\begin{Shaded}
\begin{Highlighting}[]
\ExtensionTok{cargo}\NormalTok{ run }\AttributeTok{{-}{-}} \AttributeTok{{-}s}\NormalTok{ sparse{-}index }\AttributeTok{{-}{-}force{-}fresh}
\end{Highlighting}
\end{Shaded}

\section{2. FAQ}\label{faq}

\subsection{ðŸ’¬ Why is the first run
slow?}\label{why-is-the-first-run-slow}

Because it fetches metadata for all crates depending on Ratatui.

Subsequent runs are extremely fast.

\subsection{ðŸ’¬ Why isn't my crate
included?}\label{why-isnt-my-crate-included}

Possible reasons: It doesn't depend on ratatui It uses optional
dependency incorrectly It has only yanked versions with that dependency

\subsection{ðŸ’¬ How often should I run
this?}\label{how-often-should-i-run-this}

Daily or weekly.

\subsection{ðŸ’¬ Will the JSON format
change?}\label{will-the-json-format-change}

Minor changes are possible. The schema chapter documents stable and
unstable fields.

\section{Placeholder: Error
screenshots}\label{placeholder-error-screenshots}

Screenshot: 429 error

Screenshot: parse error

Screenshot: missing sparse index

\chapter{17-data-schema-Reference}\label{data-schema-reference}

\chapter{ðŸ“˜ Chapter 17 --- Data Schema
Reference}\label{chapter-17-data-schema-reference}

This chapter defines the structure of the final \texttt{ratcrate.json}
output.

\chapter{\# 1. Top-Level Structure}\label{top-level-structure}

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{\{}
\NormalTok{  "metadata": \{ ... \},}
\NormalTok{  "statistics": \{ ... \},}
\NormalTok{  "crates": [ ... ]}
\NormalTok{\}}
\end{Highlighting}
\end{Shaded}

\section{Data Schema Reference}\label{data-schema-reference-1}

\section{Formal specification of
ratcrate.json:}\label{formal-specification-of-ratcrate.json}

\begin{itemize}
\tightlist
\item
  Fields in metadata
\item
  Fields in statistics
\item
  Fields in each crate entry (CratePackage)
\end{itemize}

\section{Example entry annotated}\label{example-entry-annotated}

\begin{Shaded}
\begin{Highlighting}[]

\NormalTok{\{}
\NormalTok{  "name": "awesome{-}tui",}
\NormalTok{  "version": "0.4.1",}
\NormalTok{  "downloads": 12345,        // total downloads from crates.io}
\NormalTok{  "recent\_downloads": 321,   // last 90 days}
\NormalTok{  "repository": "...",       // GitHub / git URL}
\NormalTok{  "homepage": "...",}
\NormalTok{  "documentation": "...",}
\NormalTok{  "categories": ["tui", "terminal"],}
\NormalTok{  "is\_core\_library": false}
\NormalTok{\}}
\end{Highlighting}
\end{Shaded}

\chapter{2. metadata Section}\label{metadata-section}

\begin{longtable}[]{@{}lll@{}}
\toprule\noalign{}
Field & Type & Description \\
\midrule\noalign{}
\endhead
\bottomrule\noalign{}
\endlastfoot
generated\_at & string & ISO TImestamp \\
version & string & ratcrate-core version \\
sources & array & e.g.~{[}``sparse\_index'',``crates\_io\_api''{]} \\
\end{longtable}

\chapter{3. statistics Section}\label{statistics-section}

\begin{longtable}[]{@{}lll@{}}
\toprule\noalign{}
Field & Type & Description \\
\midrule\noalign{}
\endhead
\bottomrule\noalign{}
\endlastfoot
total\_crates & number & Count of discovered crates \\
core\_libraries & number & Ratatui core crates \\
community\_packages & number & All others \\
cache\_hits & number & Metadata reused \\
cache\_misses & number & Metadata fetched \\
\end{longtable}

\chapter{\texorpdfstring{4. \texttt{crates{[}{]}} Entry
Format}{4. crates{[}{]} Entry Format}}\label{crates-entry-format}

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{\{}
\NormalTok{  "name": "awesome{-}tui",}
\NormalTok{  "version": "0.3.1",}
\NormalTok{  "downloads": 12345,}
\NormalTok{  "recent\_downloads": 234,}
\NormalTok{  "repository": "https://github.com/...",}
\NormalTok{  "homepage": "...",}
\NormalTok{  "documentation": "...",}
\NormalTok{  "categories": ["tui"],}
\NormalTok{  "description": "...",}
\NormalTok{  "is\_core\_library": false,}
\NormalTok{  "ratatui\_dependency": \{}
\NormalTok{    "requires": "\^{}0.28",}
\NormalTok{    "optional": false}
\NormalTok{  \}}
\NormalTok{\}}
\end{Highlighting}
\end{Shaded}

\chapter{5. Schema Stability}\label{schema-stability}

\begin{longtable}[]{@{}ll@{}}
\toprule\noalign{}
Field & Stability \\
\midrule\noalign{}
\endhead
\bottomrule\noalign{}
\endlastfoot
name & stable \\
version & stable \\
downloads & stable \\
recent\_downloads & stable \\
description & stable \\
metadata.statistics & stable \\
is\_core\_library & may evolve \\
ratatui\_dependency & may evolve \\
\end{longtable}

\chapter{6. JSON Schema (Optional
Future)}\label{json-schema-optional-future}

Define as \texttt{ratcrate-schema.json}.

Placeholder: JSON validator screenshots

\chapter{18-Ecosystem-and-Integration}\label{ecosystem-and-integration}

\chapter{ðŸ“˜ Chapter 18 --- Ecosystem \&
Integrations}\label{chapter-18-ecosystem-integrations}

\chapter{Ecosystem and Integration}\label{ecosystem-and-integration-1}

\texttt{ratcrate-core} is the foundation for multiple future tools.

\begin{center}\rule{0.5\linewidth}{0.5pt}\end{center}

\section{1. Planned Tools}\label{planned-tools}

\subsection{ðŸŸ¦ ratcrate-cli}\label{ratcrate-cli}

A simple command-line browser for Ratatui crates.

\subsection{ðŸŸ¥ ratcrate-tui}\label{ratcrate-tui}

A terminal UI (written in Ratatui) for searching and exploring packages.

\subsection{ðŸŸ© ratcrate-web}\label{ratcrate-web}

A frontend-only web interface (React/Svelte/Leptos/Vanilla JS) that
loads\\
\texttt{ratcrate.json} directly and provides:

\begin{itemize}
\tightlist
\item
  fuzzy search\\
\item
  filtering\\
\item
  stats\\
\item
  crate pages\\
\item
  graphs
\end{itemize}

\begin{center}\rule{0.5\linewidth}{0.5pt}\end{center}

\section{2. Data Flow Diagram}\label{data-flow-diagram}

\includegraphics[width=3.92in,height=2.9in]{rat-core/18-ecosystem-and-integrations_files/figure-latex/mermaid-figure-1.png}

\includegraphics[width=3.92in,height=2.9in]{rat-core/18-ecosystem-and-integrations_files/figure-latex/mermaid-figure-2.png}

\section{3. Interoperability Contract}\label{interoperability-contract}

\begin{itemize}
\item
  \texttt{ratcrate.json} must remain machine-readable
\item
  Consumers should handle:

  \begin{itemize}
  \item
    new fields
  \item
    optional fields
  \item
    schema expansions
  \end{itemize}
\end{itemize}

\begin{center}\rule{0.5\linewidth}{0.5pt}\end{center}

\section{4. Ideas for Integrations}\label{ideas-for-integrations}

\begin{itemize}
\item
  Integrate GitHub API (stars, forks, issues)
\item
  Weekly diff report via GitHub Actions
\item
  ``Trending crates'' widget for ratatui.dev
\item
  Add badges (``Top Ratatui Crate'')
\end{itemize}

\begin{center}\rule{0.5\linewidth}{0.5pt}\end{center}

\section{Placeholder: ecosystem
diagram}\label{placeholder-ecosystem-diagram}

\part{rat-cli}

\chapter{âˆž Coming Soon}\label{coming-soon}

\section{This project is currently under active
development}\label{this-project-is-currently-under-active-development}

\section{What This Page Will Contain}\label{what-this-page-will-contain}

This section will be replaced once the project reaches its first public
draft.\\
It will eventually include:

\begin{itemize}
\tightlist
\item
  \textbf{Project overview}\\
\item
  \textbf{Motivation \& goals}\\
\item
  \textbf{Architecture \& workflow diagrams}\\
\item
  \textbf{Setup / installation instructions}\\
\item
  \textbf{Feature tour}\\
\item
  \textbf{Screenshots or TUI previews}
\end{itemize}

\begin{center}\rule{0.5\linewidth}{0.5pt}\end{center}

\section{Current Status}\label{current-status}

This project is part of the larger ecosystem of tools I'm building:

\begin{itemize}
\tightlist
\item
  \texttt{ratcrate-core} â†’ Completed. The engine that gathers metadata\\
\item
  \texttt{ratcrate-cli} â†’ (In Progress) terminal exploration tool\\
\item
  \texttt{ratcrate-tui} â†’ (In Progress) Visual TUI interface\\
\end{itemize}

This project will be published once the foundation is stable.

Stay tuned for regular updates!

\begin{center}\rule{0.5\linewidth}{0.5pt}\end{center}

\section{Follow the Updates}\label{follow-the-updates}

If you'd like to know when this project is released, follow me here:

\begin{quote}
ðŸ™ GitHub: \url{https://github.com/rvbug}\\
\end{quote}

\begin{quote}
ðŸ¦ X / Twitter: \url{https://x.com/rvbugged}\\
\end{quote}

\begin{quote}
ðŸŒ Website: \url{https://qubitai.in}
\end{quote}

\begin{center}\rule{0.5\linewidth}{0.5pt}\end{center}

\section{Support My Work}\label{support-my-work}

This project is free and open source.\\
If you'd like to support its development:

\begin{center}\rule{0.5\linewidth}{0.5pt}\end{center}

\href{https://ko-fi.com/rvbugged}{\pandocbounded{\includesvg[keepaspectratio]{index_files/mediabag/githubbutton_sm.svg}}}
~~~~~~~~~~~~
\href{https://github.com/sponsors/ratcrate}{\pandocbounded{\includegraphics[keepaspectratio]{index_files/mediabag/rvbug.pdf}}}

\part{rat-tui}

\chapter{âˆž Coming Soon}\label{coming-soon-1}

\section{This project is currently under active
development}\label{this-project-is-currently-under-active-development-1}

\section{What This Page Will
Contain}\label{what-this-page-will-contain-1}

This section will be replaced once the project reaches its first public
draft.\\
It will eventually include:

\begin{itemize}
\tightlist
\item
  \textbf{Project overview}\\
\item
  \textbf{Motivation \& goals}\\
\item
  \textbf{Architecture \& workflow diagrams}\\
\item
  \textbf{Setup / installation instructions}\\
\item
  \textbf{Feature tour}\\
\item
  \textbf{Screenshots or TUI previews}
\end{itemize}

\begin{center}\rule{0.5\linewidth}{0.5pt}\end{center}

\section{Current Status}\label{current-status-1}

This project is part of the larger ecosystem of tools I'm building:

\begin{itemize}
\tightlist
\item
  \texttt{ratcrate-core} â†’ Completed. The engine that gathers metadata\\
\item
  \texttt{ratcrate-cli} â†’ (In Progress) terminal exploration tool\\
\item
  \texttt{ratcrate-tui} â†’ (In Progress) Visual TUI interface\\
\end{itemize}

This project will be published once the foundation is stable.

Stay tuned for regular updates!

\begin{center}\rule{0.5\linewidth}{0.5pt}\end{center}

\section{Follow the Updates}\label{follow-the-updates-1}

If you'd like to know when this project is released, follow me here:

\begin{quote}
ðŸ™ GitHub: \url{https://github.com/rvbug}\\
\end{quote}

\begin{quote}
ðŸ¦ X / Twitter: \url{https://x.com/rvbugged}\\
\end{quote}

\begin{quote}
ðŸŒ Website: \url{https://qubitai.in}
\end{quote}

\begin{center}\rule{0.5\linewidth}{0.5pt}\end{center}

\section{Support My Work}\label{support-my-work-1}

This project is free and open source.\\
If you'd like to support its development:

\begin{center}\rule{0.5\linewidth}{0.5pt}\end{center}

\href{https://ko-fi.com/rvbugged}{\pandocbounded{\includesvg[keepaspectratio]{index_files/mediabag/githubbutton_sm.svg}}}
~~~~~~~~~~~~
\href{https://github.com/sponsors/ratcrate}{\pandocbounded{\includegraphics[keepaspectratio]{index_files/mediabag/rvbug.pdf}}}




\end{document}
